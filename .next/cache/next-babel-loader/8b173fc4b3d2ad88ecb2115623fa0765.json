{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\sapta\\\\Documents\\\\ReactProjects\\\\dsc-firebase-master\\\\src\\\\components\\\\Link\\\\SearchLinks.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport LinkItem from \"./LinkItem\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction SearchLinks() {\n  _s();\n\n  var _this = this;\n\n  var _React$useContext = React.useContext(FirebaseContext),\n      firebase = _React$useContext.firebase;\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filteredLinks = _React$useState2[0],\n      setFilteredLinks = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      links = _React$useState4[0],\n      setLinks = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      filter = _React$useState6[0],\n      setFilter = _React$useState6[1];\n\n  React.useEffect(function () {\n    getInitialLinks();\n  }, []);\n\n  function getInitialLinks() {\n    firebase.db.collection(\"links\").get().then(function (snapshot) {\n      var links = snapshot.docs.map(function (doc) {\n        return _objectSpread({\n          id: doc.id\n        }, doc.data());\n      });\n      setLinks(links);\n    });\n  }\n\n  function handleSearch(event) {\n    event.preventDefault();\n    var query = filter.toLowerCase();\n    var matchedLinks = links.filter(function (link) {\n      return link.description.toLowerCase().includes(query) || link.title.toLowerCase().includes(query) || link.postedBy.name.toLowerCase().includes(query);\n    });\n    setFilteredLinks(matchedLinks);\n  }\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Search \", __jsx(\"input\", {\n    onChange: function onChange(event) {\n      return setFilter(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 18\n    }\n  }), __jsx(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"OK\"))), filteredLinks.map(function (filteredLink, index) {\n    return __jsx(LinkItem, {\n      key: filteredLink.id,\n      showCount: false,\n      link: filteredLink,\n      index: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    });\n  }));\n}\n\n_s(SearchLinks, \"9MisCsHsdJCQH0w/v3ZF7cKhhTo=\");\n\n_c = SearchLinks;\nexport default SearchLinks;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchLinks\");","map":{"version":3,"sources":["C:/Users/sapta/Documents/ReactProjects/dsc-firebase-master/src/components/Link/SearchLinks.js"],"names":["React","LinkItem","FirebaseContext","SearchLinks","useContext","firebase","useState","filteredLinks","setFilteredLinks","links","setLinks","filter","setFilter","useEffect","getInitialLinks","db","collection","get","then","snapshot","docs","map","doc","id","data","handleSearch","event","preventDefault","query","toLowerCase","matchedLinks","link","description","includes","title","postedBy","name","target","value","filteredLink","index"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,eAAP,MAA4B,wBAA5B;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AAAA;;AAAA,0BACAH,KAAK,CAACI,UAAN,CAAiBF,eAAjB,CADA;AAAA,MACbG,QADa,qBACbA,QADa;;AAAA,wBAEqBL,KAAK,CAACM,QAAN,CAAe,EAAf,CAFrB;AAAA;AAAA,MAEdC,aAFc;AAAA,MAECC,gBAFD;;AAAA,yBAGKR,KAAK,CAACM,QAAN,CAAe,EAAf,CAHL;AAAA;AAAA,MAGdG,KAHc;AAAA,MAGPC,QAHO;;AAAA,yBAIOV,KAAK,CAACM,QAAN,CAAe,EAAf,CAJP;AAAA;AAAA,MAIdK,MAJc;AAAA,MAINC,SAJM;;AAMrBZ,EAAAA,KAAK,CAACa,SAAN,CAAgB,YAAM;AACpBC,IAAAA,eAAe;AAChB,GAFD,EAEG,EAFH;;AAIA,WAASA,eAAT,GAA2B;AACzBT,IAAAA,QAAQ,CAACU,EAAT,CACGC,UADH,CACc,OADd,EAEGC,GAFH,GAGGC,IAHH,CAGQ,UAAAC,QAAQ,EAAI;AAChB,UAAMV,KAAK,GAAGU,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAAAC,GAAG,EAAI;AACrC;AAASC,UAAAA,EAAE,EAAED,GAAG,CAACC;AAAjB,WAAwBD,GAAG,CAACE,IAAJ,EAAxB;AACD,OAFa,CAAd;AAGAd,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KARH;AASD;;AAED,WAASgB,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAMC,KAAK,GAAGjB,MAAM,CAACkB,WAAP,EAAd;AACA,QAAMC,YAAY,GAAGrB,KAAK,CAACE,MAAN,CAAa,UAAAoB,IAAI,EAAI;AACxC,aACEA,IAAI,CAACC,WAAL,CAAiBH,WAAjB,GAA+BI,QAA/B,CAAwCL,KAAxC,KACAG,IAAI,CAACG,KAAL,CAAWL,WAAX,GAAyBI,QAAzB,CAAkCL,KAAlC,CADA,IAEAG,IAAI,CAACI,QAAL,CAAcC,IAAd,CAAmBP,WAAnB,GAAiCI,QAAjC,CAA0CL,KAA1C,CAHF;AAKD,KANoB,CAArB;AAOApB,IAAAA,gBAAgB,CAACsB,YAAD,CAAhB;AACD;;AAED,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEL,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACS;AAAO,IAAA,QAAQ,EAAE,kBAAAC,KAAK;AAAA,aAAId,SAAS,CAACc,KAAK,CAACW,MAAN,CAAaC,KAAd,CAAb;AAAA,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADT,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CADF,CADF,EAOG/B,aAAa,CAACc,GAAd,CAAkB,UAACkB,YAAD,EAAeC,KAAf;AAAA,WACjB,MAAC,QAAD;AACE,MAAA,GAAG,EAAED,YAAY,CAAChB,EADpB;AAEE,MAAA,SAAS,EAAE,KAFb;AAGE,MAAA,IAAI,EAAEgB,YAHR;AAIE,MAAA,KAAK,EAAEC,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADiB;AAAA,GAAlB,CAPH,CADF;AAkBD;;GArDQrC,W;;KAAAA,W;AAuDT,eAAeA,WAAf","sourcesContent":["import React from \"react\";\nimport LinkItem from \"./LinkItem\";\nimport FirebaseContext from \"../../firebase/context\";\n\nfunction SearchLinks() {\n  const { firebase } = React.useContext(FirebaseContext);\n  const [filteredLinks, setFilteredLinks] = React.useState([]);\n  const [links, setLinks] = React.useState([]);\n  const [filter, setFilter] = React.useState(\"\");\n\n  React.useEffect(() => {\n    getInitialLinks();\n  }, []);\n\n  function getInitialLinks() {\n    firebase.db\n      .collection(\"links\")\n      .get()\n      .then(snapshot => {\n        const links = snapshot.docs.map(doc => {\n          return { id: doc.id, ...doc.data() };\n        });\n        setLinks(links);\n      });\n  }\n\n  function handleSearch(event) {\n    event.preventDefault();\n    const query = filter.toLowerCase();\n    const matchedLinks = links.filter(link => {\n      return (\n        link.description.toLowerCase().includes(query) ||\n        link.title.toLowerCase().includes(query) ||\n        link.postedBy.name.toLowerCase().includes(query)\n      );\n    });\n    setFilteredLinks(matchedLinks);\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSearch}>\n        <div>\n          Search <input onChange={event => setFilter(event.target.value)} />\n          <button>OK</button>\n        </div>\n      </form>\n      {filteredLinks.map((filteredLink, index) => (\n        <LinkItem\n          key={filteredLink.id}\n          showCount={false}\n          link={filteredLink}\n          index={index}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default SearchLinks;\n"]},"metadata":{},"sourceType":"module"}