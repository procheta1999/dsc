{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\n\nfunction useFormValidation(initialState, validate, authenticate) {\n  _s();\n\n  var _React$useState = React.useState(initialState),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      values = _React$useState2[0],\n      setValues = _React$useState2[1];\n\n  var _React$useState3 = React.useState({}),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      errors = _React$useState4[0],\n      setErrors = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isSubmitting = _React$useState6[0],\n      setSubmitting = _React$useState6[1];\n\n  React.useEffect(function () {\n    if (isSubmitting) {\n      var noErrors = Object.keys(errors).length === 0;\n\n      if (noErrors) {\n        authenticate();\n        setSubmitting(false);\n      } else {\n        setSubmitting(false);\n      }\n    }\n  }, [errors]);\n\n  function handleChange(event) {\n    event.persist();\n    setValues(function (previousValues) {\n      return _objectSpread(_objectSpread({}, previousValues), {}, _defineProperty({}, event.target.name, event.target.value));\n    });\n  }\n\n  function handleBlur() {\n    var validationErrors = validate(values);\n    setErrors(validationErrors);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    var validationErrors = validate(values);\n    setErrors(validationErrors);\n    setSubmitting(true);\n    setValues(initialState);\n  }\n\n  return {\n    handleSubmit: handleSubmit,\n    handleBlur: handleBlur,\n    handleChange: handleChange,\n    values: values,\n    errors: errors,\n    isSubmitting: isSubmitting\n  };\n}\n\n_s(useFormValidation, \"80eXM4Pysv1fMjPqAn5f8kY88sY=\");\n\nexport default useFormValidation;","map":{"version":3,"sources":["C:/Users/sapta/Documents/ReactProjects/dsc-firebase-master/src/components/Auth/useFormValidation.js"],"names":["React","useFormValidation","initialState","validate","authenticate","useState","values","setValues","errors","setErrors","isSubmitting","setSubmitting","useEffect","noErrors","Object","keys","length","handleChange","event","persist","previousValues","target","name","value","handleBlur","validationErrors","handleSubmit","preventDefault"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,iBAAT,CAA2BC,YAA3B,EAAyCC,QAAzC,EAAmDC,YAAnD,EAAiE;AAAA;;AAAA,wBACnCJ,KAAK,CAACK,QAAN,CAAeH,YAAf,CADmC;AAAA;AAAA,MACxDI,MADwD;AAAA,MAChDC,SADgD;;AAAA,yBAEnCP,KAAK,CAACK,QAAN,CAAe,EAAf,CAFmC;AAAA;AAAA,MAExDG,MAFwD;AAAA,MAEhDC,SAFgD;;AAAA,yBAGzBT,KAAK,CAACK,QAAN,CAAe,KAAf,CAHyB;AAAA;AAAA,MAGxDK,YAHwD;AAAA,MAG1CC,aAH0C;;AAK/DX,EAAAA,KAAK,CAACY,SAAN,CAAgB,YAAM;AACpB,QAAIF,YAAJ,EAAkB;AAChB,UAAMG,QAAQ,GAAGC,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoBQ,MAApB,KAA+B,CAAhD;;AACA,UAAIH,QAAJ,EAAc;AACZT,QAAAA,YAAY;AACZO,QAAAA,aAAa,CAAC,KAAD,CAAb;AACD,OAHD,MAGO;AACLA,QAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF;AACF,GAVD,EAUG,CAACH,MAAD,CAVH;;AAYA,WAASS,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,OAAN;AACAZ,IAAAA,SAAS,CAAC,UAAAa,cAAc;AAAA,6CACnBA,cADmB,2BAErBF,KAAK,CAACG,MAAN,CAAaC,IAFQ,EAEDJ,KAAK,CAACG,MAAN,CAAaE,KAFZ;AAAA,KAAf,CAAT;AAID;;AAED,WAASC,UAAT,GAAsB;AACpB,QAAMC,gBAAgB,GAAGtB,QAAQ,CAACG,MAAD,CAAjC;AACAG,IAAAA,SAAS,CAACgB,gBAAD,CAAT;AACD;;AAED,WAASC,YAAT,CAAsBR,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACS,cAAN;AACA,QAAMF,gBAAgB,GAAGtB,QAAQ,CAACG,MAAD,CAAjC;AACAG,IAAAA,SAAS,CAACgB,gBAAD,CAAT;AACAd,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAJ,IAAAA,SAAS,CAACL,YAAD,CAAT;AACD;;AAED,SAAO;AACLwB,IAAAA,YAAY,EAAZA,YADK;AAELF,IAAAA,UAAU,EAAVA,UAFK;AAGLP,IAAAA,YAAY,EAAZA,YAHK;AAILX,IAAAA,MAAM,EAANA,MAJK;AAKLE,IAAAA,MAAM,EAANA,MALK;AAMLE,IAAAA,YAAY,EAAZA;AANK,GAAP;AAQD;;GA9CQT,iB;;AAgDT,eAAeA,iBAAf","sourcesContent":["import React from \"react\";\n\nfunction useFormValidation(initialState, validate, authenticate) {\n  const [values, setValues] = React.useState(initialState);\n  const [errors, setErrors] = React.useState({});\n  const [isSubmitting, setSubmitting] = React.useState(false);\n\n  React.useEffect(() => {\n    if (isSubmitting) {\n      const noErrors = Object.keys(errors).length === 0;\n      if (noErrors) {\n        authenticate();\n        setSubmitting(false);\n      } else {\n        setSubmitting(false);\n      }\n    }\n  }, [errors]);\n\n  function handleChange(event) {\n    event.persist();\n    setValues(previousValues => ({\n      ...previousValues,\n      [event.target.name]: event.target.value\n    }));\n  }\n\n  function handleBlur() {\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n    setSubmitting(true);\n    setValues(initialState)\n  }\n\n  return {\n    handleSubmit,\n    handleBlur,\n    handleChange,\n    values,\n    errors,\n    isSubmitting\n  };\n}\n\nexport default useFormValidation;\n"]},"metadata":{},"sourceType":"module"}